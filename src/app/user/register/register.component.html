<form [formGroup]='form' class="register" (ngSubmit)="registrationHandler()">
    <!-- formControlName required by angular -->
    <div class="form-group">
        <label for="username">Username</label>
        <input type="username" class="form-control" 
        [class.error-form]="form.get('username').touched&&(form.get('username').errors?.required||form.get('username').touched && form.get('username').errors?.minlength)"
        placeholder="Username" name="username" value="" formControlName="username">
        <p *ngIf="form.get('username').touched && form.get('username').errors?.required" class="error">Username is required!</p>
        <p *ngIf="form.get('username').touched && form.get('username').errors?.minlength" class="error">Username must be at least 4 charecters long</p>
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" 
        [class.error-form]="form.get('email').touched && (form.get('email').errors?.required || form.get('email').errors?.pattern)" 
        placeholder="simon@gmail.com" name="email" value="" formControlName="email">
        <p *ngIf="form.get('email').touched && form.get('email').errors?.required" class="error">Email is required!</p>
        <p *ngIf="form.get('email').touched && form.get('email').errors?.pattern" class="error">Please enter a valid email</p>
    </div>
    <div class="form-group">
        <label for="phoneNumber">Phone Number</label>
        <input type="phoneNumber" class="form-control" 
        [class.error-form]="form.get('phoneNumber').touched && (form.get('phoneNumber').errors?.required || form.get('phoneNumber').touched && form.get('phoneNumber').errors?.pattern)"
        placeholder="Phone Number" name="phoneNumber" value="" formControlName="phoneNumber">
        <p *ngIf="form.get('phoneNumber').touched && form.get('phoneNumber').errors?.required" class="error">Phone number is required!</p>
        <p *ngIf="form.get('phoneNumber').touched && form.get('phoneNumber').errors?.pattern" class="error">Invalid input!</p>
    </div>
    <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" 
        [class.error-form]="form.get('password').touched && (form.get('password').errors?.required || form.get('password').errors?.minlength)"
        placeholder="Password" name="password" value="" formControlName="password">
        <p *ngIf="form.get('password').touched && form.get('password').errors?.required" class="error">Password is required!</p>
        <p *ngIf="form.get('password').touched && form.get('password').errors?.minlength" class="error">Password must be at least 6 charecters long</p>
    </div>
    <div class="form-group">
        <label for="repeatPassword">Repeat Password</label>
        <input type="password" class="form-control" 
        [class.error-form]="form.get('repeatPassword').touched && form.get('repeatPassword').errors?.rePasswordValidator"
        placeholder="Repeat-Password" name="repeatPassword" value="" formControlName="repeatPassword">
        <p *ngIf="form.get('repeatPassword').touched && form.get('repeatPassword').errors?.rePasswordValidator" class="error">Passwords do not match</p>
    </div>
    <button [disabled]="false ||form.invalid">Register</button>
    <p class="errorMessage" *ngIf="showErrorMessage">{{errorMessage}}</p>
    <p class="loadingMessage" *ngIf="showLoadingMessage">Loading...</p> 
    <p class="successMessage" *ngIf="showSuccessMessage">{{successMessage}}</p> 
</form>